{% load compress %} {% load tailwind_filters %}
<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="EduQuiz is a platform for teachers to create and share quizzes with their students."
    />
    <meta
      name="keywords"
      content="EduQuiz, Quiz, Education, Teacher, Student, Quiz Creator, Quiz Maker, Quiz Creator App, Quiz Maker App, Quiz Creator Website, Quiz Maker Website, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz Maker Application, Quiz Creator Program, Quiz Maker Program, Quiz Creator Service, Quiz Maker Service, Quiz Creator Platform, Quiz Maker Platform, Quiz Creator Software, Quiz Maker Software, Quiz Creator Tool, Quiz Maker Tool, Quiz Creator Application, Quiz"
    />
    <meta name="author" content="EduQuiz" />
    <link rel="stylesheet" href="{% static 'src/output.css' %}" />
    <link rel="stylesheet" href="{% static 'main.css' %}" />
    <script
      src="https://unpkg.com/htmx.org@1.5.0"
      integrity="sha384-oGA+prIp5Vchu6we2YkI51UtVzN9Jpx2Z7PnR1I78PnZlN8LkrCT4lqqqmDkyrvI"
      crossorigin="anonymous"
    ></script>
    <title>Dashboard {% block title %} {% endblock title %}</title>
  </head>
  <body class="dark:bg-gray-900 h-screen antialiased leading-none font-sans">
    <!-- The above code is creating a toast notification. -->
    <div
      id="toast-bottom-left"
      class="absolute flex items-center w-full max-w-xs bottom-5 right-5"
      role="alert"
    >
      <div
        id="toast-interactive"
        class="w-full max-w-xs p-4 text-gray-500 bg-white rounded-lg shadow dark:bg-gray-800 dark:text-gray-400 hidden"
        role="alert"
      >
        <div class="flex">
          <div
            class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-blue-500 bg-blue-100 rounded-lg dark:text-blue-300 dark:bg-blue-900"
          >
            <svg
              aria-hidden="true"
              class="w-5 h-5"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"
                clip-rule="evenodd"
              />
            </svg>
            <span class="sr-only">Refresh icon</span>
          </div>
          <div class="ml-3 text-sm font-normal">
            <span
              class="mb-1 text-sm font-semibold text-gray-900 dark:text-white"
              >Notification</span>
            <div class="mb-2 text-sm font-normal" id="toast-interactive-text">
            
            </div>
            <div class="grid grid-cols-2 gap-2">
              <div>
                <a
                  href="#"
                  class="inline-flex justify-center w-full px-2 py-1.5 text-xs font-medium text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800"
                  >Update</a
                >
              </div>
              <div>
                <a
                  href="#"
                  class="inline-flex justify-center w-full px-2 py-1.5 text-xs font-medium text-center text-gray-900 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 dark:bg-gray-600 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-700 dark:focus:ring-gray-700"
                  >Not now</a
                >
              </div>
            </div>
          </div>
          <button
            type="button"
            class="ml-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700"
            data-dismiss-target="#toast-interactive"
            aria-label="Close"
          >
            <span class="sr-only">Close</span>
            <svg
              aria-hidden="true"
              class="w-5 h-5"
              fill="currentColor"
              viewBox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <!-- Navbar -->
    <div class="flex dark:bg-gray-900">
      <aside class="w-64 fixed left-0 top-0 h-screen p-10 dark:bg-gray-900">
        <div
          class="min-h-screen flex flex-col flex-auto flex-shrink-0 antialiased bg-gray-50 text-gray-800 mt-2"
        >
          <div
            class="fixed flex flex-col top-0 left-0 w-64 bg-white h-full border-r dark:bg-gray-900 dark:border-gray-700 dark:text-gray-200"
          >
            <div class="flex items-center justify-center h-14 border-b">
              <a href="{% url 'dashboard1' %}" class="flex items-center">
                {% if user.profile.avatar.url != true %}
                <img
                  class="mr-6 h-9 sm:h-12 p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500"
                  src="{{ user.profile.avatar.url }}"
                  alt="avatar"
                  width="50"
                  height="50"
                  lasyload="true"
                />
                {% else %}
                <img
                  class="mr-6 h-9 sm:h-12 p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500"
                  width="50"
                  height="50"
                  src="{% static 'img/user.png' %}"
                  lasyload="true"
                  alt="avatar"
                />
                {% endif %}
                <span
                  class="self-center text-xl font-semibold whitespace-nowrap dark:text-white"
                  >EduQuiz</span
                >
              </a>
            </div>
            <div class="overflow-y-auto overflow-x-hidden flex-grow">
              <ul class="flex flex-col py-4 space-y-1">
                <li class="px-5">
                  <div class="flex flex-row items-center h-8">
                    <div class="text-sm font-light tracking-wide text-gray-500">
                      Menu
                    </div>
                  </div>
                </li>
                <li>
                  <a
                    href="{% url 'dashboard1' %}"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 active: block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Dashboard</span
                    >
                  </a>
                </li>
                <!-- li for create quiz -->
                {% if user.is_staff %}
                <li>
                  <a
                    href="{% url 'create_quiz' %}"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Create Quiz</span
                    >
                  </a>
                </li>
                {% else %}
                <!--  see available quiz -->
                <li>
                  <a
                    href="{% url 'available_quizzes' %}"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Available Quiz</span
                    >
                  </a>
                </li>
                {% endif %}
                <li>
                  <a
                    href="#"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Messages</span
                    >
                    <span
                      class="px-2 py-0.5 ml-auto text-xs font-medium tracking-wide text-indigo-500 bg-indigo-50 rounded-full dark:bg-indigo-500 dark:text-indigo-100"
                      >Soon</span
                    >
                  </a>
                </li>
                <li>
                  <a
                    href="#"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="1.5"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                        aria-hidden="true"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Groups</span
                    >
                    <span
                      class="px-2 py-0.5 ml-auto text-xs font-medium tracking-wide text-red-500 bg-red-50 rounded-full dark:bg-red-500 dark:text-red-100"
                      >Soon</span
                    >
                  </a>
                </li>
                <li class="px-5">
                  <div class="flex flex-row items-center h-8">
                    <div class="text-sm font-light tracking-wide text-gray-500">
                      Settings
                    </div>
                  </div>
                </li>
                <li>
                  <a
                    href="{% url 'profile' %}"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >{{ user.username }}</span
                    >
                  </a>
                </li>
                <li>
                  <a
                    href="{% url 'settings' %}"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                        />
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Settings</span
                    >
                  </a>
                </li>
                <li>
                  <a
                    href="{% url 'logout' %}"
                    class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6 block p-4 text-gray-800 dark:text-gray-200 hover:text-gray-900 dark:hover:text-gray-300 hover: dark:hover:bg-gray-700"
                  >
                    <span class="inline-flex justify-center items-center ml-4">
                      <svg
                        class="w-5 h-5"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                        />
                      </svg>
                    </span>
                    <span class="ml-2 text-sm tracking-wide truncate"
                      >Logout</span
                    >
                  </a>
                </li>
                <li class="px-5">
                  <div class="flex flex-row items-center h-8">
                    <div class="text-sm font-light tracking-wide text-gray-500">
                      Theme
                    </div>
                  </div>
                  <button
                    id="theme-toggle"
                    type="button"
                    class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5"
                  >
                    <svg
                      id="theme-toggle-dark-icon"
                      class="hidden w-5 h-5"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"
                      />
                    </svg>
                    <svg
                      id="theme-toggle-light-icon"
                      class="hidden w-5 h-5"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                      />
                    </svg>
                    Dark Mode
                  </button>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </aside>
      <!-- *|content block|* -->
      <main class="flex-1 ml-64">
        <div class="h-100 p-10">{% block content %} {% endblock content %}</div>
      </main>
    </div>
  </body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    // On page load or when changing themes, best to add inline in `head` to avoid FOUC
    if (
      localStorage.getItem("color-theme") === "dark" ||
      (!("color-theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }

    var themeToggleDarkIcon = document.getElementById("theme-toggle-dark-icon");
    var themeToggleLightIcon = document.getElementById(
      "theme-toggle-light-icon"
    );

    // Change the icons inside the button based on previous settings
    if (
      localStorage.getItem("color-theme") === "dark" ||
      (!("color-theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      themeToggleLightIcon.classList.remove("hidden");
    } else {
      themeToggleDarkIcon.classList.remove("hidden");
    }

    var themeToggleBtn = document.getElementById("theme-toggle");

    themeToggleBtn.addEventListener("click", function () {
      // toggle icons inside button
      themeToggleDarkIcon.classList.toggle("hidden");
      themeToggleLightIcon.classList.toggle("hidden");

      // if set via local storage previously
      if (localStorage.getItem("color-theme")) {
        if (localStorage.getItem("color-theme") === "light") {
          document.documentElement.classList.add("dark");
          localStorage.setItem("color-theme", "dark");
        } else {
          document.documentElement.classList.remove("dark");
          localStorage.setItem("color-theme", "light");
        }

        // if NOT set via local storage previously
      } else {
        if (document.documentElement.classList.contains("dark")) {
          document.documentElement.classList.remove("dark");
          localStorage.setItem("color-theme", "light");
        } else {
          document.documentElement.classList.add("dark");
          localStorage.setItem("color-theme", "dark");
        }
      }
    });

    const input = document.querySelectorAll("input");
    input.forEach((input) => {
      input.classList.add(
        "bg-white",
        "dark:bg-gray-800",
        "dark:text-gray-300",
        "dark:border-gray-500",
        "dark:focus:ring-gray-600",
        "dark:focus:border-gray-600"
      );
    });

    // Timezone settings
    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone; // e.g. "America/New_York"
    document.cookie = "timezone=" + timezone;

    protocol = window.location.protocol === "https:" ? "wss" : "ws";

    const socket = new WebSocket(
      protocol + window.location.host + "/ws/notifications/"
    );

    socket.onmessage = function (event) {
      const data = JSON.parse(event.data);
      if (data['type'] === 'notification' && data['quiz_id'] !== document.cookie.split('=')[1]) {
        const notificationElement = document.getElementById('toast-interactive');
        notificationElement.querySelector('#toast-interactive-text').innerHTML = data['message'];
        notificationElement.classList.remove('hidden');
        document.cookie = "notification=" + data['quiz_id'];
      }
    };
      




  </script>
  {% block script %} {% endblock script %}
</html>
